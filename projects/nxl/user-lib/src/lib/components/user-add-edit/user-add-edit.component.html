<div class="body-content">
  <div class="userForm">
    <form [formGroup]="userForm" class="userForm">
      <div class="form-field-content">
        <mat-card class="mat-elevation-z">
          <h4>Basic Details</h4>
          <div class="flex-container" fxLayout.lt-sm="column" fxLayout="row" fxLayoutGap="20px" fxLayoutGap.lt-sm="5px">
            <div fxFlex="33.33333333" fxFlex.lt-sm="100" fxFlex.it-md="25">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>First Name</mat-label>
                <input matInput type="text" formControlName="firstName" placeholder="First Name" maxlength="50"
                  required />
                <mat-error *ngIf="firstNameControlRequired">First name is required.</mat-error>
                <mat-error *ngIf="firstNameControlInvalid">First name is Invalid.</mat-error>
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Last Name</mat-label>
                <input matInput type="text" formControlName="lastName" placeholder="Last Name" maxlength="50"
                  required />
                <mat-error *ngIf="lastNameControlRequired">Last name is required.</mat-error>
                <mat-error *ngIf="lastNameControlInvalid">Last name is Invalid.</mat-error>
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label> Employee Id</mat-label>
                <input matInput formControlName="externalId" placeholder="Employee Id" required
                  maxlength="50" [readonly]="userDetail" />
                <mat-error *ngIf="externalIdControlRequired">Employee Id is required.</mat-error>
                <mat-error *ngIf="externalIdControlInvalid">Employee Id is Invalid.</mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class="flex-container" fxLayout.lt-sm="column" fxLayout="row" fxLayoutGap="20px" fxLayoutGap.lt-sm="5px">
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Email</mat-label>
                <input matInput type="text" [readonly]="userDetail" formControlName="email" placeholder="Email"
                  maxlength="100" required />
                <mat-error *ngIf="emailControlInvalid">Email is Invalid.</mat-error>
                <mat-error *ngIf="emailControlRequired">Email is required.</mat-error>
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Alternate Email</mat-label>
                <input matInput type="text" formControlName="alternateEmail" placeholder="Alternate Email" required
                  maxlength="100" />
                <mat-error *ngIf="alternateEmailControlInvalid">Alternate Email is Invalid.</mat-error>
                <mat-error *ngIf="alternateEmailControlRequired">Alternate Email is required.</mat-error>
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Job Title</mat-label>
                <input matInput type="text" formControlName="jobTitle" placeholder="Job Title" maxlength="100" />
                <mat-error *ngIf="jobTitleControlInvalid">Job Title is Invalid.</mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class="flex-container" fxLayout.lt-sm="column" fxLayout="row" fxLayoutGap="20px" fxLayoutGap.lt-sm="5px">
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Department</mat-label>
                <input matInput type="text" formControlName="department" placeholder="Department" maxlength="100" />
                <mat-error *ngIf="departmentControlInvalid">Department is Invalid.</mat-error>
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Company</mat-label>
                <input matInput type="text" formControlName="organization" placeholder="company" maxlength="100" />
                <mat-error *ngIf="organizationControlInvalid">Company is Invalid.</mat-error>
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Country</mat-label>
                <mat-select formControlName="countryCode" required (selectionChange)="onSelectCountry()">
                  <mat-option *ngFor="let country of countryList" [value]="country.code">
                    {{country.name}}
                  </mat-option>
                </mat-select>
                <i class="material-icons">keyboard_arrow_down</i>
                <mat-error *ngIf="countryCodeControlInvalid">Country is Invalid.</mat-error>
                <mat-error *ngIf="countryCodeControlRequired">Country is required.</mat-error>
              </mat-form-field>
            </div>
            <!-- <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field color="primary">
                <mat-label>W9 Received Date</mat-label>
                <input
                  matInput
                  [matDatepicker]="receivedDate"
                  formControlName="receivedDate"
                  placeholder="mm/dd/yyyy"
                  [max]="today"
                />
                <mat-datepicker-toggle matSuffix [for]="receivedDate"></mat-datepicker-toggle>
                <mat-datepicker #receivedDate></mat-datepicker>
                <mat-error *ngIf="receivedDate">W9 Received Date is Invalid.</mat-error>
              </mat-form-field>
            </div> -->
          </div>
          <div class="flex-container" fxLayout="row" fxLayoutGap="20px">
            <div fxFlex="33.33333333" fxFlex.lt-sm="50">
              <mat-slide-toggle color="primary" class="slide_toggle_style" formControlName="isActive">
                Active User
              </mat-slide-toggle>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="0"></div>
          </div>
        </mat-card>
        <mat-card class="mat-elevation-z">
          <h4>Address</h4>
          <div class="flex-container" fxLayout.lt-sm="column" fxLayout="row" fxLayoutGap="20px" fxLayoutGap.lt-sm="5px">
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Address1</mat-label>
                <input matInput type="text" formControlName="address1" placeholder="Address1" maxlength="100" />
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Address2</mat-label>
                <input matInput type="text" formControlName="address2" placeholder="Address2" maxlength="100" />
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Address3</mat-label>
                <input matInput type="text" formControlName="address3" placeholder="Address3" maxlength="100" />
              </mat-form-field>
            </div>
          </div>
          <div class="flex-container" fxLayout.lt-sm="column" fxLayout="row" fxLayoutGap="20px" fxLayoutGap.lt-sm="5px">
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Address4</mat-label>
                <input matInput type="text" formControlName="address4" placeholder="Address4" maxlength="100" />
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>City</mat-label>
                <input matInput type="text" formControlName="city" placeholder="City" maxlength="50" />
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>State</mat-label>
                <mat-select formControlName="stateCode">
                  <mat-option *ngFor="let state of stateList" [value]="state.stateCode">
                    {{state.stateName}}
                  </mat-option>
                </mat-select>
                <i class="material-icons">keyboard_arrow_down</i>
              </mat-form-field>
            </div>
          </div>

          <div class="flex-container" fxLayout.lt-sm="column" fxLayout="row" fxLayoutGap="20px" fxLayoutGap.lt-sm="5px">
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>ZipCode</mat-label>
                <input matInput type="text" formControlName="postalCode" placeholder="ZipCode" maxlength="20" />
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100"></div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100"></div>
          </div>
        </mat-card>
        <mat-card class="mat-elevation-z">
          <h4>Phone</h4>
          <div class="flex-container" fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px" fxLayoutGap.lt-sm="5px">
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>WorkPhone</mat-label>
                <input matInput formControlName="workPhone" placeholder="Work Phone" maxlength="20"
                  [value]="userForm.get('workPhone').value | phoneNumber" />
                <mat-error *ngIf="workPhoneControlInvalid">Work phone is Invalid.</mat-error>
              </mat-form-field>
            </div>
            <div fxFlex="33.33333333" fxFlex.lt-sm="100">
              <mat-form-field appearance="legacy" color="primary">
                <mat-label>Mobile Phone</mat-label>
                <input matInput formControlName="mobilePhone" placeholder="Mobile Phone" maxlength="20"
                  [value]="userForm.get('mobilePhone').value | phoneNumber" required />
                <mat-error *ngIf="mobilePhoneControlInvalid">Mobile phone is Invalid.</mat-error>
                <mat-error *ngIf="mobilePhoneControlRequired">Mobile phone is required.</mat-error>
              </mat-form-field>
            </div>
          </div>
        </mat-card>
      </div>
      <div class="form-submit-action">
        <button mat-flat-button class="btn-lg" (click)="onClickCancel()">
          Cancel
        </button>
        <button mat-flat-button color="primary" [disabled]="!userForm.valid" class="btn-lg" *ngIf="!userDetail"
          (click)="onClickAddUser(userForm)">
          Save
        </button>
        <button mat-flat-button color="primary" [disabled]="!userForm.valid" class="btn-lg" *ngIf="userDetail"
          (click)="onClickUpdateUser(userForm)">
          Update
        </button>
      </div>
    </form>
  </div>
</div>